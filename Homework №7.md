## Домашнее задание #7 

1. Сервер настроен на то, чтобы в журнал сообщений сбрасывалась информация о блокировках, удерживаемых более 200 миллисекунд. 
``` bash
deadlock_timeout = 200ms
log_lock_waits = on
```

2. Смоделировал ситуацию, когда 3 команды UPDATE пытаются изменить одну и ту же строку. В первом сеансе UPDATE прошел, но он же заблокировал обновление строки для второго и третьего сеанса до тех пор, пока транзакция не будет закончена.

3. Так как первая транзакция обновляет данные, она получила соответсвующие блокировки, а именно RowExclusiveLock и ExclusiveLock. Вторая транзакция так же пытается сделать UPDATE, но не может получить блокировку ShareLock, потому что именно эта блокировка защищает от одновременного изменения данных в одной таблице. Аналогичная ситуация и с третьей транзакцией.

4. Так же была воспроизведена ситуация взаимоблокировок транзакций. В результате чего мы видим ошибку ```ERROR:  deadlock detected```. Ровно такая же ошибка записалась в логи, поэтому мы можем это увидеть даже постфактум. 


5. Нет, две транзакции выполняющие UPDATE по всем строкам таблицы не блокируют друг друга. Они просто выполнятся по очереди. 